/* ===========================================================
   SUMMARY-MODAL  ↳ alinhado ao Design System
   -----------------------------------------------------------
   • tudo usa tokens (--color-*, --space-*, --radius-*, …)
   • z-index segue faixas (overlay ≥ 9000)
   • fontes e espaçamentos via var(--font-sans / --space-*)
   • cores “novas” viram --color-accent (azul de foco)
  =========================================================== */

/* ───────── 0 ▸ Novos tokens auxiliares (adicione em :root) */
:root {
  --color-accent: #2563eb;          /* azul de foco / links */
  --shadow-lg:   0 16px 32px rgba(0,0,0,.12);
}

/* ───────── 1 ▸ Reset limitado ao contexto do modal */
#summaryModal *,
#summaryModal *::before,
#summaryModal *::after {
  box-sizing: border-box;
}

/* ───────── 2 ▸ Overlay */
#summaryModal.modal-slide {
  position: fixed;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background: rgba(0,0,0,.5);
  z-index: 9500;                    /* faixa “overlay” */
}
#summaryModal.hidden { display:none; }

/* ───────── 3 ▸ Container */
#summaryModal .modal-content-summary {
  background: var(--color-surface);
  width: auto;
  max-width: 540px;
  min-width: 360px;
  border-radius: var(--radius-md);
  padding: var(--space-lg) var(--space-md) var(--space-md);
  box-shadow: var(--shadow-lg);
  animation: modalSlideUp .3s ease-out;
  max-height: 100vh;
  overflow-y: auto;
  font-family: var(--font-sans);
  position: relative;
}

/* Anim. */
@keyframes modalSlideUp {
  from { transform: translateY(100%); opacity: 0; }
  to   { transform: translateY(0);    opacity: 1; }
}

/* ───────── 4 ▸ Botão fechar */
.close-modal-btn {
  position: absolute;
  top: var(--space-sm);
  right: var(--space-sm);
  font-size: 1.4rem;
  background: none;
  border: none;
  color: var(--color-text);
  cursor: pointer;
}

/* ───────── 5 ▸ Cabeçalho */
#summaryModal h2 {
  font-size: 1.375rem;
  font-weight: 600;
  margin-bottom: var(--space-md);
  color: var(--color-text);
}

/* ───────── 6 ▸ Seções */
.summary-section { margin-bottom: var(--space-md); }

.summary-section label {
  display: block;
  font-weight: 500;
  margin-bottom: var(--space-xs);
  font-size: 0.75rem;
  color: var(--color-text-muted);
}

/* ───────── 7 ▸ Inputs */
.summary-section select,
.summary-section input[type="text"],
.summary-section input[type="number"] {
  width: 100%;
  padding: 0.55rem 0.75rem;                     /* ≈ var(--space-xs) */
  font-size: 0.75rem;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  background: var(--color-surface);
  color: var(--color-text);
  transition: border-color .2s;
}
.summary-section select:focus,
.summary-section input:focus {
  border-color: var(--color-accent);
  outline: none;
  box-shadow: 0 0 0 2px rgba(37,99,235,.2);
}

/* ───────── 8 ▸ Total */
#totalPriceLabel {
  font-weight: 600;
  font-size: 1.1rem;
  color: var(--color-text);
}
.summary-section .price-note {
  font-size: 0.75rem;
  color: var(--color-text-muted);
  margin-top: 0.35rem;
}

/* ───────── 9 ▸ Terms & Checkbox */
.summary-section input[type="checkbox"] {
  margin-right: 0.5rem;
  transform: scale(1.1);
}
.terms-box {
  margin-top: 0.5rem;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  padding: 0.9rem 1rem;
  border-radius: var(--radius-md);
  font-size: 0.75rem;
  color: var(--color-text-muted);
  line-height: 1.45;
  max-height: 160px;
  overflow-y: auto;
}
.terms-box.hidden { display:none; }

.toggle-terms,
.terms-link {
  background: none;
  border: none;
  color: var(--color-accent);
  font-size: 0.75rem;
  cursor: pointer;
  padding: 0;
}
.toggle-terms:hover,
.terms-link:hover { text-decoration: underline; }

/* ───────── 10 ▸ Actions */
.summary-actions {
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-end;
  gap: var(--space-sm);
  margin-top: var(--space-lg);
}

/* ───────── 11 ▸ Discounts Grid */
.discounts-grid {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-sm);
  align-items: flex-end;
}
.discounts-grid .form-group {
  flex: 1 1 200px;
  min-width: 180px;
}
.input-with-btn { display:flex; }
.input-with-btn input { flex:1; }
.input-with-btn .apply-btn {
  margin-left: var(--space-xs);
  white-space: nowrap;
  background: var(--color-primary);
  color: var(--color-surface);
  border: none;
  border-radius: var(--radius-sm);
  padding: var(--space-xs) var(--space-sm);
  font-size: 0.875rem;
  cursor: pointer;
}
.input-with-btn .apply-btn:hover {
  background: var(--color-primary-dark);
}

/* ───────── 12 ▸ Modal Terms (overlay reutiliza token) */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.55);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9500;
}
.modal-overlay.hidden { display:none; }

.modal-terms {
  background: var(--color-surface);
  border-radius: var(--radius-md);
  max-width: 500px;
  padding: var(--space-lg) var(--space-md);
  box-shadow: var(--shadow-lg);
  position: relative;
  font-family: var(--font-sans);
  max-height: 90vh;
  overflow-y: auto;
}
.close-terms-btn {
  position: absolute;
  top: var(--space-sm);
  right: var(--space-sm);
  background: none;
  border: none;
  font-size: 1.5rem;
  color: var(--color-text);
  cursor: pointer;
}
.modal-terms h3 {
  font-size: 1.25rem;
  font-weight: 600;
  margin-bottom: var(--space-md);
}
.terms-content p,
.terms-content ul {
  font-size: 0.75rem;
  line-height: 1.5;
  color: var(--color-text);
}

/* ───────── 13 ▸ Tipografia dentro do resumo */
#summaryInfoContent > p,
#summaryModal .summary-section ul li {
  font-size: 0.75rem;
  color: var(--color-text);
  margin-block: 0.25rem 0.5rem;
  line-height: 1.4;
}

/* ───────── 14 ▸ Flex row (total x outros) */
.summary-row {
  display: flex;
  gap: var(--space-lg);
  align-items: center;
  margin-bottom: var(--space-md);
}
.summary-row .summary-item { flex: 1; }
.summary-row .summary-item:last-child {
  flex: 0 0 auto;
  text-align: right;
}
